> 高性能固态盘的多级并行性及算法研究---胡洋
>
> 针对该论文的学习总结

# 第三节---固态盘的闪存转换层

### 地址映射方法

#### 常见的映射算法

1. 页级映射：一一映射，占用空间大。![image-20200728112733090](.\typora-user-images\image-20200728112733090.png)
2. 块级映射![image-20200728150016691](.\typora-user-images\image-20200728150016691.png)存在的问题是，需要频繁的擦写将导致读写性能下降，同时影响寿命。
3. 混合映射：同时采用块级映射和页级映射。采用页级映射的物理块称之为日志块，采用块级映射的物理块称之为数据块。易知，日志快用来存储热数据；数据块用来存取冷数据。当日志块不够使用（或者过多时）会发生合并操作，可分为三种
   - 全合并![image-20200728153338434](.\typora-user-images\image-20200728153338434.png)需要N次读操作，N次写操作，2次擦除操作，严重影响固态盘性能。
   - 转换合并![image-20200728153640941](.\typora-user-images\image-20200728153640941.png)当日志块中的所有数据按照块内偏移存放，可以直接替代数据块，只需要将原有的数据块擦除即可。
   - 部分合并![image-20200728153848963](.\typora-user-images\image-20200728153848963.png)块内已保存的逻辑页是按照块内偏移存放的，只需要将预下的数据写入日志块即可，再将数据块擦除。
   - 综上，为了保证性能应尽可能的少使用全合并操作。
4. DFTL：将具有时间局部性或（与）空间局部性的映射关系保存在内存中，当读写所需的映射可以在内存中检索到时，速度等同于页级映射。但当无法在内存中检索到相关数据时，需要多花费从闪存读取的时间。对于具有良好局部性的服务器DFTL性能损失不大，否则反之。

#### 三层页映射算法



#### 隐藏翻译过程映射算法

### 垃圾回收算法

### 损耗均衡算法